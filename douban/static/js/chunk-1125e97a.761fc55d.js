(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1125e97a"],{6688:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hot-w"},[i("div",{staticClass:"logo-w"},[i("div",{staticClass:"logo"},[t._v("豆瓣")]),i("input",{staticClass:"input",attrs:{type:"text",placeholder:"搜索电影/影人"},on:{click:t.goToSearch}})]),i("h3",{staticClass:"title-m"},[t._v("精选榜单")]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.us_boxData.length,expression:"!us_boxData.length"}],staticClass:"loading-w"},[i("cube-loading"),i("p",{staticClass:"text"},[t._v("正在加载中...")])],1),i("cube-scroll",{attrs:{data:t.top250Data,options:t.scrollOptions}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.us_boxData.length,expression:"us_boxData.length"}],staticClass:"list-wrapper"},[i("div",{staticClass:"list-item",on:{click:function(e){return t.gotoDetails(0)}}},[i("div",{staticClass:"left-a"},[i("h3",[t._v("豆瓣 TOP250")]),i("p",[t._v("8分以上好电影")])]),i("div",{staticClass:"right-content"},t._l(t.top250Data,function(t){return i("div",{key:t.id,staticClass:"img-list"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.images.medium,expression:"item.images.medium"}],attrs:{alt:""}})])}),0)]),i("div",{staticClass:"list-item",on:{click:function(e){return t.gotoDetails(1)}}},[i("div",{staticClass:"left-a"},[i("h3",[t._v("本周口碑榜")]),i("p",[t._v("7月1日-7月7日")])]),i("div",{staticClass:"right-content"},t._l(t.weeklyData,function(t){return i("div",{key:t.id,staticClass:"img-list"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.subject.images.medium,expression:"item.subject.images.medium"},{name:"show",rawName:"v-show",value:t.subject,expression:"item.subject"}],attrs:{alt:""}})])}),0)]),i("div",{staticClass:"list-item",on:{click:function(e){return t.gotoDetails(2)}}},[i("div",{staticClass:"left-a"},[i("h3",[t._v("新片榜")]),i("p",[t._v("7月1日-7月7日")])]),i("div",{staticClass:"right-content"},t._l(t.new_moviesData,function(t){return i("div",{key:t.id,staticClass:"img-list"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.images.medium,expression:"item.images.medium"}],attrs:{alt:""}})])}),0)]),i("div",{staticClass:"list-item",on:{click:function(e){return t.gotoDetails(3)}}},[i("div",{staticClass:"left-a"},[i("h3",[t._v("北美票房榜")]),i("p",[t._v("票房最高排行")])]),i("div",{staticClass:"right-content"},t._l(t.us_boxData,function(t){return i("div",{key:t.id,staticClass:"img-list"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.subject.images.medium,expression:"item.subject.images.medium"},{name:"show",rawName:"v-show",value:t.subject,expression:"item.subject"}],attrs:{alt:""}})])}),0)])])])],1)},a=[],n=(i("c5f6"),{data:function(){return{pageStart:0,pageCount:3,scrollOptions:{directionLockThreshold:0},rankData:[],top250Data:[],weeklyData:[],new_moviesData:[],us_boxData:[]}},props:{initialIndex:Number},created:function(){1===this.initialIndex&&(this.top250(),this.us_box(),this.new_movies(),this.weekly())},watch:{initialIndex:function(){1===this.initialIndex&&0===this.top250Data.length&&(this.top250(),this.us_box(),this.new_movies(),this.weekly())}},methods:{goToSearch:function(){this.$router.push("/search")},top250:function(){var t=this;this.getAjax("/top250").then(function(e){t.top250Data=e})},us_box:function(){var t=this;this.getAjax("/us_box").then(function(e){t.us_boxData=e.splice(0,3)})},new_movies:function(){var t=this;this.getAjax("/new_movies").then(function(e){t.new_moviesData=e.splice(0,3)})},weekly:function(){var t=this;this.getAjax("/weekly").then(function(e){t.weeklyData=e.splice(0,3)})},gotoDetails:function(t){var e="";0===t&&(e="TOP250"),1===t&&(e="本周口碑榜"),2===t&&(e="新片榜"),3===t&&(e="北美票房榜"),this.$router.push({path:"/rankDetails",query:{name:e}})},getAjax:function(t){var e=this;return new Promise(function(i,s){e.$fetch(t,{start:e.pageStart,count:e.pageCount}).then(function(t){if(t.subjects)return i(t.subjects)}).catch(function(t){return s(t)})})},resolveTitle:function(t){return"".concat(t.name,"关注了问题 · ").concat(t.postTime," 小时前")},resolveQuestionFollowers:function(t){return"".concat(t.answers," 赞同 · ").concat(t.followers," 评论")}}}),o=n,c=(i("e36f"),i("2877")),l=Object(c["a"])(o,s,a,!1,null,"3eb64c4c",null);e["default"]=l.exports},"72c7":function(t,e,i){},e36f:function(t,e,i){"use strict";var s=i("72c7"),a=i.n(s);a.a}}]);