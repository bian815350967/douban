(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-387608ee"],{"3e0f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"movie-details"},[a("div",{staticClass:"logo-w"},[a("div",{staticClass:"logo",on:{click:t.goback}},[t._v("返回")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyWords,expression:"keyWords",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",placeholder:"搜索豆瓣读书"},domProps:{value:t.keyWords},on:{input:[function(e){e.target.composing||(t.keyWords=e.target.value.trim())},t.inputSearch],blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"cancel",on:{click:t.inputSearch}},[t._v("确定")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.movieData,expression:"movieData"}],staticClass:"wrap-w"},[a("cube-scroll",{ref:"scroll3",attrs:{data:t.commentsData,options:t.scrollOptions},on:{"pulling-up":t.pullingUp}},[a("ul",{staticClass:"comments-d-uls"},[t._l(t.commentsData,function(e){return a("li",{key:e.id,staticClass:"comments-d-list",on:{click:function(a){return t.gotoDetails(e.id)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.images,expression:"item.images"}],staticClass:"left"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.images.medium,expression:"item.images.medium"}],attrs:{alt:""}})]),a("div",{staticClass:"right"},[a("p",{staticClass:"text title"},[t._v(t._s(e.title))]),a("p",{staticClass:"name-w"},[t._v("作者："+t._s(t.getGenres(e.author)))]),a("p",[t._v(t._s(e.rating.average)+"分 （"+t._s(e.rating.numRaters)+"人评价）")]),a("p",[t._v("价格："+t._s(e.price))]),a("p",[t._v("出版社："+t._s(e.publisher))]),a("p",[t._v("出版年："+t._s(e.pubdate))])])])}),a("li",{directives:[{name:"show",rawName:"v-show",value:t.loadingShow,expression:"loadingShow"}],staticClass:"loading-w"},[a("cube-loading"),a("p",{staticClass:"text"},[t._v("正在加载中...")])],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.nodata,expression:"nodata"}],staticClass:"loading-w"},[a("p",{staticClass:"text"},[t._v("————————  我是有底线的  ————————")])])],2)])],1)])},i=[],n=(a("a481"),a("ac6a"),a("c5f6"),{data:function(){return{loadingShow:!1,keyWords:"",nodata:!1,scrollOptions:{directionLockThreshold:0,pullUpLoad:!0},pageStart:0,pageCount:20,currentIndex:0,movieData:{},commentsData:[],titleName:"搜索豆瓣读书",tiemr1:null}},created:function(){},methods:{goback:function(){this.$router.push({path:"/",query:{index:2}})},inputSearch:function(){var t=this;""!==this.keyWords?(this.commentsData=[],this.loadingShow=!0,clearTimeout(this.tiemr1),this.tiemr1=setTimeout(function(){""!==t.keyWords.trim()&&t.$fetch("/search",{start:t.pageStart,count:t.pageCount,q:t.keyWords},"book").then(function(e){e.books&&(t.loadingShow=!1,t.commentsData=e.books,e.books.length<t.pageCount&&(t.scrollOptions.pullUpLoad=!1,t.nodata=!0),setTimeout(function(){t.$refs.scroll3.forceUpdate()},500))})},2e3)):this.commentsData=[]},getReviews:function(){var t=this;this.$fetch("/subject/"+this.$route.query.id+"/reviews",{start:this.pageStart,count:this.pageCount}).then(function(e){e.reviews&&(t.commentsData=e.reviews,e.reviews.length<t.pageCount&&(t.scrollOptions.pullUpLoad=!1,t.nodata=!0))})},pullingUp:function(){var t=this;this.pageStart+=this.pageCount,1===Number(this.$route.query.index)?this.$fetch("/subject/"+this.$route.query.id+"/reviews",{start:this.pageStart,count:this.pageCount}).then(function(e){e.subject&&(t.commentsData=t.commentsData.concat(e.reviews),t.$refs.scroll2.forceUpdate(),e.reviews.length<t.pageCount&&(t.scrollOptions.pullUpLoad=!1,t.nodata=!0))}):this.$fetch("/subject/"+this.$route.query.id+"/comments",{start:this.pageStart,count:this.pageCount}).then(function(e){e.subject&&(t.commentsData=t.commentsData.concat(e.comments),t.$refs.scroll2.forceUpdate(),e.comments.length<t.pageCount&&(t.scrollOptions.pullUpLoad=!1,t.nodata=!0))})},getGenres:function(t){if(t&&t.length)return t.join(" / ")},getGenres2:function(t){if(t&&t.length){var e=[];return t.forEach(function(t){""!==t&&e.push(t)}),e.join("/")}},gotoDetails:function(t){this.$router.push({path:"/readingDetails",query:{id:t}})},tableOne:function(t){this.currentIndex=t},replaceString:function(t){if(t)return t.replace(/\n/g,"<br>")}},components:{fixedTop:function(t){return a.e("chunk-3eea379a").then(function(){var e=[a("a2a2")];t.apply(null,e)}.bind(this)).catch(a.oe)}}}),o=n,r=(a("d268"),a("2877")),c=Object(r["a"])(o,s,i,!1,null,"1f5904da",null);e["default"]=c.exports},"5dc1":function(t,e,a){},d268:function(t,e,a){"use strict";var s=a("5dc1"),i=a.n(s);i.a}}]);