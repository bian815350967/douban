(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44e1cd96"],{"089b":function(t,s,a){"use strict";var e=a("2585"),o=a.n(e);o.a},2585:function(t,s,a){},4524:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"hot-w"},[a("div",{staticClass:"logo-w"},[a("div",{staticClass:"logo"},[t._v("豆瓣")]),a("input",{staticClass:"input",attrs:{type:"text",placeholder:"搜索电影/影人"},on:{click:t.goToSearch}})]),a("ul",{staticClass:"table-uls"},[t._m(0),t._l(t.menuArr,function(s,e){return a("li",{key:e,staticClass:"table-list",class:{"active-list":t.activeIndex===e},on:{click:function(s){return t.switchTable(e)}}},[t._v(t._s(s))])})],2),a("cube-scroll",{ref:"scroll1",attrs:{data:t.hotData,options:t.scrollOptions},on:{"pulling-up":t.pullingUp}},[a("ul",{staticClass:"list-wrapper"},[t._l(t.hotData,function(s,e){return a("li",{key:e,staticClass:"list-item",on:{click:function(a){return t.gotoDetails(s.id)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:s.images,expression:"item.images"}],staticClass:"left-a"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.images.medium,expression:"item.images.medium"}],attrs:{alt:""}})]),a("div",{staticClass:"right-content"},[a("h3",{staticClass:"light"},[t._v(t._s(s.title)+"("+t._s(s.original_title)+")")]),s.rating&&0===t.activeIndex?a("div",[t._v("☆☆☆☆☆  "+t._s(s.rating.average)+" 分")]):t._e(),a("p",[t._v("导演："),a("span",[t._v(t._s(t.joinName(s.directors)))])]),a("p",[t._v("主演："),a("span",[t._v(t._s(t.joinName(s.casts)))])])])])}),a("li",{directives:[{name:"show",rawName:"v-show",value:t.loadingShow,expression:"loadingShow"}],staticClass:"loading-w"},[a("cube-loading"),a("p",{staticClass:"text"},[t._v("正在加载中...")])],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.nodata,expression:"nodata"}],staticClass:"loading-w"},[a("p",{staticClass:"text"},[t._v("————————  我是有底线的  ————————")])])],2)])],1)},o=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"position-city"},[t._v("深圳 "),a("div",{staticClass:"sanjiao"})])}],i=(a("ac6a"),a("c5f6"),{data:function(){return{loadingShow:!0,nodata:!1,activeIndex:0,menuArr:["正在热映","即将上映"],hotData:[],pageStart:0,pageCount:10,scrollOptions:{directionLockThreshold:0,pullUpLoad:!0},secondStop:26}},props:{initialIndex:Number},created:function(){0===this.hotData.length&&this.getHot()},methods:{goToSearch:function(){this.$router.push("/search")},switchTable:function(t){this.nodata=!1,this.$refs.scroll1.forceUpdate(),this.$refs.scroll1.refresh(),this.$refs.scroll1.scrollTo(0,this.secondStop,300),this.loadingShow=!0,this.activeIndex=t,this.hotData=[],this.pageStart=0,this.scrollOptions.pullUpLoad=!0,0===t?this.getHot():this.comingSoon()},gotoDetails:function(t){this.$router.push({path:"/movieDetails",query:{id:t}})},joinName:function(t){var s=[];return t.forEach(function(t){s.push(t.name)}),s.join(" / ")},getHot:function(){var t=this;this.$fetch("/in_theaters",{city:"深圳",start:this.pageStart,count:this.pageCount}).then(function(s){s.subjects&&(setTimeout(function(){t.$refs.scroll1.forceUpdate()},500),t.loadingShow=!1,t.hotData=s.subjects,s.subjects.length<t.pageCount&&(t.scrollOptions.pullUpLoad=!1))}).catch(function(t){console.log(t)})},pullingUp:function(){var t=this;this.pageStart+=this.pageCount,0===this.activeIndex?this.$fetch("/in_theaters",{city:"深圳",start:this.pageStart,count:this.pageCount}).then(function(s){s.subjects&&(t.hotData=t.hotData.concat(s.subjects),t.$refs.scroll1.forceUpdate(),s.subjects.length<t.pageCount&&(t.scrollOptions.pullUpLoad=!1,t.nodata=!0))}).catch(function(t){console.log(t)}):this.$fetch("/coming_soon",{start:this.pageStart,count:this.pageCount}).then(function(s){s.subjects&&(t.hotData=t.hotData.concat(s.subjects),t.$refs.scroll1.forceUpdate(),s.subjects.length<t.pageCount&&(t.scrollOptions.pullUpLoad=!1,t.nodata=!0))}).catch(function(t){console.log(t)})},comingSoon:function(){var t=this;this.$fetch("/coming_soon",{start:this.pageStart,count:this.pageCount}).then(function(s){s.subjects&&(setTimeout(function(){t.$refs.scroll1.forceUpdate()},500),t.loadingShow=!1,t.hotData=s.subjects,t.$refs.scroll1.forceUpdate())}).catch(function(t){console.log(t)})}}}),n=i,c=(a("089b"),a("2877")),l=Object(c["a"])(n,e,o,!1,null,"0f759856",null);s["default"]=l.exports}}]);